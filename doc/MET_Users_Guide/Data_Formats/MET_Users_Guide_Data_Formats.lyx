#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass book
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 1in
\topmargin 1in
\rightmargin 1in
\bottommargin 1in
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Chapter
MET Data I/O, Re-Formatting, and Checking
\end_layout

\begin_layout Paragraph

\series medium
Data must be preprocessed prior to using for verification.
 Several MET tools exist for this purpose.
 In addition to preprocessing observations, some plotting utilities for
 data checking are also provided and described at the end of this chapter.
 Both the input and output file formats are described in this chapter.
 Sections 3.1 and 3.2 are primarily concerned with re-formatting input files
 into the intermediate files required by some MET modules.
 These steps are represented by the first three columns in the MET flowchart
 depicted in Fig.
 1-1.
 Output data formats and the software modules used to reformat the data
 are described in later sections.
\end_layout

\begin_layout Section
Input data formats
\end_layout

\begin_layout Paragraph

\series medium
The MET package can handle gridded input data in one of three formats: GRIB
 version 1, GRIB version 2, or netCDF classic format.
 Point observation files may be supplied in either PrepBufr, ASCII, or MADIS
 format.
 Note that MET does not require the Unified Post-Processor to be used, but
 does require that the input GRIB data be on a standard, de-staggered grid
 on pressure or regular levels in the vertical.
 While the Grid-Stat, Wavelet-Stat, and MODE tools can be run on a gridded
 field at virtually any level, the Point-Stat tool can only be used to verify
 forecasts at the surface or on pressure levels.
\end_layout

\begin_layout Paragraph

\series medium
When comparing two gridded fields with the Grid-Stat, Wavelet-Stat, or MODE
 tools, the input model and observation datasets must have already been
 placed on the same grid.
 The copygb utility is recommended for re-gridding GRIB files.
 To preserve characteristics of the observations, it is generally preferred
 to re-grid the model data to the observation grid, rather than vice versa.
\end_layout

\begin_layout Paragraph

\series medium
Input point observation files in PrepBufr format are available through NCEP.
 The PrepBufr observation files contain a wide variety of point-based observatio
n types in a single file in a standard format.
 However, some users may wish to use observations not included in the standard
 PrepBufr files.
 For this reason, prior to performing the verification step in the Point-Stat
 tool, the PrepBufr file is reformatted with the PB2NC tool.
 In this step, the user can select various ways of stratifying the observation
 data spatially, temporally, and by type.
 The remaining observations are reformatted into an intermediate NetCDF
 file.
 The ASCII2NC tool may be used to convert ASCII point observations that
 are not available in the PrepBufr files into this NetCDF format for use
 by the Point-Stat verification tool.
 Users with METAR or RAOB data from MADIS can convert these observations
 into NetCDF format with the MADIS2NC tool, then use them with the Point-Stat
 verification tool.
\end_layout

\begin_layout Section
Intermediate data formats
\end_layout

\begin_layout Paragraph

\series medium
MET uses NetCDF as an intermediate file format.
 The Ensemble-Tool, WWMCA-Tool, Pcp-Combine, Gen-Poly-Mask, Gen-Circle-Mask,
 PB2NC, MADIS2NC, and ASCII2NC tools write intermediate files in NetCDF
 format.
\end_layout

\begin_layout Paragraph

\series medium
The Pcp-Combine tool operates in 3 different modes.
 It may be used to 
\series default
sum
\series medium
 accumulated precipitation from several GRIB files into a single NetCDF
 file containing the desired accumulation period.
 It may also be used to 
\series default
add
\series medium
 or 
\series default
subtract
\series medium
 the accumulated precipitation in two gridded data files directly.
 The command line arguments for the Pcp-Combine tool vary depending on the
 mode in which it is run.
\end_layout

\begin_layout Paragraph

\series medium
The user may choose to: (1) combine the model accumulations to match the
 observation accumulation period, (2) combine the observation accumulations
 to match the model accumulation period, or (3) combine both the model and
 observation accumulations to some new period desired for verification.
 In performing this summation, the user may not specify an accumulation
 interval smaller than the accumulation period in the input files.
 However, if the input model and observation files already contain accumulated
 precipitation with the same desired accumulation period, then 
\emph on
pcp_combine
\emph default
 need not be run.
 Each time the Pcp-Combine tool is called, a NetCDF file is written containing
 the requested accumulation period.
 
\end_layout

\begin_layout Paragraph

\series medium
The 
\emph on
Gen-Poly-Mask
\emph default
 and 
\emph on
Gen-Circle_Mask
\emph default
 tools are used to define a bitmapped masking region that can be used by
 the statistics tools as a verification subdomain.
 It is generally more efficient to use the NetCDF output of these tools
 to define a masking region than using a complex polyline directly in the
 other MET tools.
 However, the NetCDF output can only be applied to datasets on a common
 domain.
 It must be regenerated for each domain used.
\end_layout

\begin_layout Paragraph

\series medium
The PB2NC tool is used to reformat the input PrepBufr files containing point
 observations.
 This tool stratifies the observations as requested in a configuration file
 and writes out the remaining observations in a NetCDF format.
 The NetCDF output of the PB2NC tool is used as input to the verification
 step performed in the Point-Stat tool.
\end_layout

\begin_layout Paragraph

\series medium
The ASCII2NC tool simply reformats ASCII point observations into the NetCDF
 format needed by the Point-Stat tool.
 The output NetCDF file from the ASCII2NC tool has a format that is identical
 to the format of the output from the PB2NC tool.
\end_layout

\begin_layout Section
Output data formats
\end_layout

\begin_layout Paragraph

\series medium
The MET package currently produces output in four basic file formats: STAT
 files, ASCII files, NetCDF files, PostScript plots, and png plots from
 the Plot-Mode-Field utility.
\end_layout

\begin_layout Paragraph

\series medium
The STAT format consists of tabular ASCII data that can be easily read by
 many analysis tools and software packages.
 MET produces STAT output for the Grid-Stat, Point-Stat, and Wavelet-Stat
 tools.
 STAT is a specialized ASCII format containing one record on each line.
 However, a single STAT file may contain multiple line types.
 Several header columns at the beginning of each line remain the same for
 each line type.
 However, the remaining columns after the header change for each line type.
 STAT files can be difficult for a human to read as the quantities represented
 for many columns of data change from line to line.
\end_layout

\begin_layout Paragraph

\series medium
For this reason, ASCII output is also available as an alternative for the
 Grid-Stat, Point-Stat, and Wavelet-Stat tools.
 The ASCII files contain exactly the same output as the STAT files but each
 STAT line type is grouped into a single ASCII file with a column header
 row making the output more human-readable.
 The configuration files control which line types are output and whether
 or not the optional ASCII files are generated.
\end_layout

\begin_layout Paragraph

\series medium
The MODE tool creates two ASCII output files as well (although they are
 not in a STAT format).
 It generates an ASCII file containing contingency table counts and statistics
 comparing the model and observation fields being compared.
 The MODE tool also generates a second ASCII file containing all of the
 attributes for the single objects and pairs of objects.
 Each line in this file contains the same number of columns, and those columns
 not applicable to a given line type contain fill data.
\end_layout

\begin_layout Paragraph

\series medium
The Ensemble-Stat, Grid-Stat, Wavelet-Stat, Series-Analysis, and MODE tools
 generate gridded NetCDF output.
 The MODE tool creates a NetCDF file containing four gridded fields for
 the objects identified in the forecast and observation, simple and cluster
 object fields.
 The Ensemble-Stat creates a NetCDF file containing the ensemble forecast
 values, statistics, and, if requested, matched observations for each verificati
on region and variable type/level requested in the configuration file.
 In addition, when rank histogram information is requested, the NetCDF file
 contains the observation rank values.
 The Grid-Stat tool creates a NetCDF file containing the matched forecast/observ
ation pairs and the forecast minus observation difference fields for each
 verification region and variable type/level requested in the configuration
 file.
 The Wavelet-Stat tool creates a NetCDF file summarizing the wavelet decompositi
on of the forecast and observation fields for each variable type/level,
 raw threshold, and tile masking region chosen.
 The generation of these files is controlled by configuration files or command
 line switches.
 As discussed in the previous section, the Pcp-Combine, Gen-Poly-Mask, and
 Gen-Circle-Mask tools create gridded NetCDF output as well, while the PB2NC,
 MADIS2NC, and ASCII2NC tools create intermediate NetCDF files containing
 point observations.
\end_layout

\begin_layout Paragraph

\series medium
The MODE and Wavelet-Stat tools produce PostScript plots summarizing the
 features-based approach used in the verification.
 The PostScript plots are generated using internal libraries and do not
 depend on an external plotting package.
 The MODE plots contain several summary pages at the beginning, but the
 total number of pages will depend on the merging options chosen.
 Additional pages will be created if merging is performed using the double
 thresholding or fuzzy engine merging techniques for the forecast and observatio
n fields.
 The number of pages in the Wavelet-Stat plots depend on the number of masking
 tiles used and the dimension of those tiles.
 The first summary page is followed by plots for the wavelet decomposition
 of the forecast and observation fields.
 The generation of these PostScript output files can be disabled using command
 line options.
\end_layout

\begin_layout Paragraph

\series medium
Users can use the optional plotting utilities Plot-Data-Plane, Plot-Point-Obs,
 and Plot-Mode-Field to produce graphics showing forecast, observation,
 and MODE object files.
 
\end_layout

\begin_layout Section
Data format summary
\end_layout

\begin_layout Paragraph

\series medium
The following is a summary of the input and output formats for each of the
 tools currently in MET.
 The output listed is the maximum number of possible output files.
 Generally, the type of output files generated can be controlled by the
 configuration files and/or the command line options:
\end_layout

\begin_layout Description

\series medium
1.
 
\series bold
PB2NC Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One PrepBufr point observation file and one configuration file.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing the observations that have been retained.
\end_layout

\end_deeper
\begin_layout Description

\series medium
2.
 
\series bold
ASCII2NC Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One or more ASCII point observation file(s) that has (have) been formatted
 as expected, and optional configuration file.
 
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing the reformatted observations.
\end_layout

\end_deeper
\begin_layout Description

\series medium
3.
 
\series bold
MADIS2NC Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One MADIS point observation file.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing the reformatted observations.
\end_layout

\end_deeper
\begin_layout Description

\series medium
4.
 
\series bold
Pcp-Combine Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: Two or more gridded model or observation files (in GRIB format for 
\begin_inset Quotes eld
\end_inset

sum
\begin_inset Quotes erd
\end_inset

 command, or any gridded file for 
\begin_inset Quotes eld
\end_inset

add
\begin_inset Quotes erd
\end_inset

 or 
\begin_inset Quotes eld
\end_inset

subtract
\begin_inset Quotes erd
\end_inset

 commands) containing accumulated precipitation to be combined to create
 a new accumulation interval.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing the summed accumulation interval.
\end_layout

\end_deeper
\begin_layout Description

\series medium
5.
 
\series bold
Gen-Poly-Mask Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model or observation file and one ASCII file defining a Lat/Lon
 masking polyline.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing a bitmap for the masking region defined by
 the polyline over the domain of the gridded input file.
\end_layout

\end_deeper
\begin_layout Description

\series medium
6.
 
\series bold
Gen-Circle-Mask Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model or observation file and one ASCII file defining a set
 of Lat/Lon locations.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing a bitmap for the masking region defined by
 the polyline over the domain of the gridded input file.
\end_layout

\end_deeper
\begin_layout Description

\series medium
7.
 
\series bold
Point-Stat Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model file, at least one point observation file in NetCDF
 format (as the output of the PB2NC, MADIS2NC, or ASCII2NC tool), and one
 configuration file.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One STAT file containing all of the requested line types, and several
 ASCII files for each line type requested.
\end_layout

\end_deeper
\begin_layout Description

\series medium
8.
 
\series bold
Grid-Stat Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model file and one gridded observation file, and one configuration
 file.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One STAT file containing all of the requested line types, several ASCII
 files for each line type requested, and one NetCDF file containing the
 matched pair data and difference field for each verification region and
 variable type/level being verified.
\end_layout

\end_deeper
\begin_layout Description

\series medium
9.
 
\series bold
Series Analysis Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: An arbitrary number of gridded model files and gridded observation files
 and one or more optional files containing observations.
 
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing requested output statistics on the same grid
 as the input files.
\end_layout

\end_deeper
\begin_layout Description

\series medium
10.
 
\series bold
Ensemble Stat Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: An arbitrary number of gridded model files and one or more optional files
 containing observations.
 Point and gridded observations are both accepted.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One NetCDF file containing requested ensemble forecast information.
 If observations are provided, one STAT file containing all requested line
 types, and several ASCII files for each line type requested.
\end_layout

\end_deeper
\begin_layout Description

\series medium
11.
 
\series bold
MODE Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model file and one gridded observation file and one or two
 configuration files.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One ASCII file containing contingency table counts and statistics, one
 ASCII file containing single and pair object attribute values, one NetCDF
 file containing object indices for the gridded simple and cluster object
 fields, and one PostScript plot containing a summary of the features-based
 verification performed.
\end_layout

\end_deeper
\begin_layout Description

\series medium
12.
 
\series bold
Wavelet-Stat Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One gridded model file, one gridded observation file and one configuration
 file.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: One STAT file containing the ?ISC? line type, one ASCII file containing
 intensity-scale information and statistics, one NetCDF file containing
 information about the wavelet decomposition of forecast and observed fields
 and their differences, and one PostScript file containing plots and summaries
 of the intensity-scale verification.
\end_layout

\end_deeper
\begin_layout Description

\series medium
13.
 
\series bold
Stat-Analysis Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One or more STAT files output from the Point-Stat, Grid-Stat, or Ensemble
 Stat, or Wavelet-Stat tools and, optionally, one configuration file containing
 specifications for the analysis job(s) to be run on the STAT data.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: ASCII output of the analysis jobs will be printed to the screen unless
 redirected to a file using the 
\begin_inset Quotes eld
\end_inset

-out
\begin_inset Quotes erd
\end_inset

 option.
\end_layout

\end_deeper
\begin_layout Description

\series medium
14.
 
\series bold
MODE-Analysis Tool
\end_layout

\begin_deeper
\begin_layout Description

\series medium
* 
\series bold
Input
\series medium
: One or more MODE object statistics files from the MODE tool and, optionally,
 one configuration file containing specification for the analysis job(s)
 to be run on the object data.
\end_layout

\begin_layout Description

\series medium
* 
\series bold
Output
\series medium
: ASCII output of the analysis jobs will be printed to the screen unless
 redirected to a file using the 
\begin_inset Quotes eld
\end_inset

-out
\begin_inset Quotes erd
\end_inset

 option.
\end_layout

\end_deeper
\begin_layout Section
PB2NC tool
\end_layout

\begin_layout Paragraph

\series medium
This section describes how to configure and run the PB2NC tool.
 The PB2NC tool is used to stratify the contents of an input PrepBufr point
 observation file and reformat it into NetCDF format for use by the Point-Stat
 tool.
 The PB2NC tool must be run on the input PrepBufr point observation file
 prior to performing verification using the Point-Stat tool.
\end_layout

\begin_layout Subsection
pb2nc usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the PB2NC tool is shown below:
\end_layout

\begin_layout LyX-Code

\series bold
Usage:
\series default
 pb2nc
\end_layout

\begin_layout LyX-Code
prepbufr_file
\end_layout

\begin_layout LyX-Code
netcdf_file
\end_layout

\begin_layout LyX-Code
config_file
\end_layout

\begin_layout LyX-Code
[-pbfile prepbufr_file]
\end_layout

\begin_layout LyX-Code
[-valid_beg time]
\end_layout

\begin_layout LyX-Code
[-valid_end time]
\end_layout

\begin_layout LyX-Code
[-nmsg n]
\end_layout

\begin_layout LyX-Code
[-dump path]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[ level]
\end_layout

\begin_layout Paragraph

\series medium
pb2nc has both required and optional arguments.
 
\end_layout

\begin_layout Paragraph
Required arguments for pb2nc
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
prepbufr_file
\series medium
 argument indicates the name of the PrepBufr file to be processed.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
netcdf_file
\series medium
 argument indicates the name given to the output NetCDF file.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
config_file
\series medium
 argument indicates the name of the configuration file to be used.
 The contents of the configuration file are discussed below.
\end_layout

\begin_layout Paragraph
Optional arguments for pb2nc
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
-pbfile prepbufr_file
\series medium
 option may be used to pass additional PrepBufr files to the PB2NC tool.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
-valid_beg time
\series medium
 option in YYYYMMDD[_HH[MMSS]] format sets the beginning of the retention
 time window.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
-valid_end time
\series medium
 option in YYYYMMDD[_HH[MMSS]] format sets the end of the retention time
 window.
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-nmsg num_messages
\series medium
 option may be used for testing purposes.
 This argument indicates that only the first 
\begin_inset Quotes eld
\end_inset


\series bold
num_messages
\series medium

\begin_inset Quotes erd
\end_inset

 PrepBufr messages should be processed rather than the whole file.
 This option is provided to speed up testing because running the PB2NC tool
 can take a few minutes for each file.
 Most users will not need this option.
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-dump path
\series medium
 option may be used to dump the entire contents of the PrepBufr file to
 several ASCII files written to the directory specified by 
\begin_inset Quotes eld
\end_inset


\series bold
path
\series medium

\begin_inset Quotes erd
\end_inset

.
 The user may use this option to view a human-readable version of the input
 PrepBufr file, although writing the contents to ASCII files can be slow.
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
7.
 The 
\series bold
level
\series medium
 option indicates the desired level of verbosity.
 The value of 
\begin_inset Quotes eld
\end_inset

level
\begin_inset Quotes erd
\end_inset

 will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity above 1 will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the pb2nc calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
pb2nc sample_pb.blk
\end_layout

\begin_layout LyX-Code
sample_pb.nc
\end_layout

\begin_layout LyX-Code
PB2NCConfig
\end_layout

\begin_layout Paragraph

\series medium
In this example, the PB2NC tool will process the input 
\series default
sample_pb.blk
\series medium
 file applying the configuration specified in the 
\series default
PB2NCConfig
\series medium
 file and write the output to a file named 
\series default
sample_pb.nc
\series medium
.
\end_layout

\begin_layout Subsection
pb2nc configuration file
\end_layout

\begin_layout Paragraph

\series medium
The default configuration file for the PB2NC tool named 
\series default
PB2NCConfig_default
\series medium
 can be found in the installed share/met/config directory.
 The version used for the example run in Chapter 2 is available in 
\emph on
scripts/config
\emph default
.
 It is recommended that users make a copy of these files prior to modifying
 their contents.
 Each configuration file contains many comments describing its contents.
 
\end_layout

\begin_layout Paragraph

\series medium
When editing configuration files, environment variables may be used for
 setting the configurable parameters if convenient.
 The configuration file parser expands any environment variables to their
 full value before proceeding.
 Within the configuration file, environment variables must be specified
 in the form: 
\series default
${VAR_NAME}
\series medium
.
\end_layout

\begin_layout Paragraph

\series medium
For example, using an environment variable to set the 
\series default
message_type
\series medium
 (see below) parameter to use ADPUPA and ADPSFC message types might consist
 of the following:
\end_layout

\begin_layout Description

\series medium
* In a C-Shell: 
\series bold
setenv MSG_TYP ' 
\begin_inset Quotes eld
\end_inset

ADPUPA
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset

ADPSFC
\begin_inset Quotes erd
\end_inset

 '
\end_layout

\begin_layout Description

\series medium
* In the configuration file: 
\series bold
message_type[] = [ ${MSG_TYP} ]; 
\end_layout

\begin_layout Paragraph

\series medium
The example script for running MODE included in section 10.2 provides another
 example of using environment variables in configuration files.
\end_layout

\begin_layout Paragraph

\series medium
The contents of the default pb2nc configuration file are described in the
 subsections below.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code

\series bold
message_type = [];
\end_layout

\begin_layout Paragraph

\series medium
Each PrepBufr message is tagged with one of eighteen message types as listed
 in the configuration file.
 The 'message_type' refers to the type of observation from which the observation
 value (or 'report') was derived.
 The user may specify a comma-separated list of message types to be retained.
 Providing an empty list indicates that all message types should be retained.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code

\series bold
station_id = [];
\end_layout

\begin_layout Paragraph

\series medium
Each PrepBufr message has a station identification string associated with
 it.
 The user may specify a comma-separated list of station IDs to be retained.
 Providing an empty list indicates that messages from all station IDs will
 be retained.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
obs_window = {
\end_layout

\begin_layout LyX-Code
beg = -5400;
\end_layout

\begin_layout LyX-Code
end = 5400;
\end_layout

\begin_layout LyX-Code
};
\end_layout

\begin_layout Paragraph

\series medium
Each PrepBufr file has an observation time associated with it.
 Every PrepBufr message within the file has a time-offset defined relative
 to that file's observation time.
 The 
\series default
beg
\series medium
 and 
\series default
end
\series medium
 variables define a time window around the file's observation time for PrepBufr
 messages that should be retained.
 
\series default
beg
\series medium
 indicates how many seconds relative to the file's observation time to begin
 retaining observations to be used for verification (the negative sign indicates
 this window begins 
\series default
prior
\series medium
 to the time assigned to the PrepBufr file).
 
\series default
end
\series medium
 indicates how many seconds after the file's time to stop retaining observations
 for verification.
 The time window shown above is +/- 1.5 hours (+/- 5400 seconds) around the
 file observation time.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
mask = {
\end_layout

\begin_layout LyX-Code
grid = "";
\end_layout

\begin_layout LyX-Code
poly = "";
\end_layout

\begin_layout LyX-Code
};
\end_layout

\begin_layout Paragraph

\series medium
The 
\series default
grid
\series medium
 and 
\series default
poly
\series medium
 variables are used to define a spatial masking region for retaining observation
s.
 
\series default
grid
\series medium
 may be set to one of the pre-defined NCEP grids which are specified as
 
\series default
GNNN
\series medium
 where 
\series default
NNN
\series medium
 is the three digit designation for the grid.
 
\series default
poly
\series medium
 may be set to a pre-defined or a user-created file consisting of a name
 for the polygon followed by a series of lat/lon points used to define a
 masking region.
 If a masking region is specified, only observations falling inside the
 region will be retained.
 Refer to Appendix B for a list of the grids available for 
\emph on
mask_grid
\emph default
 and pre-defined polylines for 
\emph on
mask_poly
\emph default
.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
elevation_range = {
\end_layout

\begin_layout LyX-Code
beg = -1000;
\end_layout

\begin_layout LyX-Code
end = 100000;
\end_layout

\begin_layout LyX-Code
}
\end_layout

\begin_layout Paragraph

\series medium
The 
\series default
beg
\series medium
 and 
\series default
end
\series medium
 variables are used to stratify the elevation (in meters) of the observations
 to be retained.
 The range shown above is set to -1000 to 100000 meters, which essentially
 retains every observation.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
pb_report_type = [];
\end_layout

\begin_layout LyX-Code
in_report_type = [];
\end_layout

\begin_layout LyX-Code
instrument_type = [];
\end_layout

\begin_layout Paragraph

\series medium
The 
\series default
pb_report_type, in_report_type,
\series medium
 and 
\series default
instrument_type
\series medium
 variables are used to specify comma-separated lists of PrepBufr report
 types, input report types, and instrument types to be retained, respectively.
 If left empty, all PrepBufr report types, input report types, and instrument
 types will be retained.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
level_range = {
\end_layout

\begin_layout LyX-Code
beg = 1;
\end_layout

\begin_layout LyX-Code
end = 255;
\end_layout

\begin_layout LyX-Code
}
\end_layout

\begin_layout LyX-Code
level_category = [];
\end_layout

\begin_layout Paragraph

\series medium
The 
\series default
beg
\series medium
 and 
\series default
end
\series medium
 variables are used to stratify the model level of observations to be retained.
 The range shown above is 1 to 255, which is the current maximum possible
 level.
 
\end_layout

\begin_layout Paragraph

\series medium
The 
\series default
level_category
\series medium
 variable is used to specify a comma-separated list of Prepbufr data level
 categories to retain.
 An empty string indicates that all level categories should be retained.
 Accepted values and their meanings are described in the table below.
 These represent the same categories available from 
\begin_inset CommandInset href
LatexCommand href
target "http://www.emc.ncep.noaa.gov/mmb/data_processing/prepbufr.doc/table_1.htm "

\end_inset


\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
Values for the level_category option.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="center" valignment="top" width="2in">
<column alignment="center" valignment="top" width="4in">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Level category value
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Surface level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mandatory level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Significant temperature level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Winds-by-pressure level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Winds-by-height level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tropopause level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Reports on a single level
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Auxiliary levels generated via interpolation from spanning levels
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph

\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
obs_grib_code = ['SPFH', 'TMP', 'HGT', 'UGRD', 'VGRD'];
\end_layout

\begin_layout Paragraph

\series medium
Each PrepBufr message will likely contain multiple observation variables.
 The 
\series default
obs_grib_code
\series medium
 variable is used to specify which observation variables are to be retained
 or derived.
 The GRIB code itself or the corresponding abbreviation may be used to specify
 which observation variables are to be retained or derived.
 The following GRIB codes may be derived: DPT, WIND, RH, MIXR, and PRMSL
 for dewpoint, wind speed, relative humidity, mixing ratio, and pressure
 reduced to MSL.
 The list of GRIB codes shown above indicates that specific humidity, temperatur
e, height, and the u and v components of the wind are to be retained.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
quality_mark_thresh = 2;
\end_layout

\begin_layout Paragraph

\series medium
Each observation has a quality mark value associated with it.
 The 
\series default
quality_mark_thresh
\series medium
 is used to stratify out which quality marks will be retained.
 The value shown above indicates that only observations with quality marks
 less than or equal to 2 will be retained.
\series default

\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset line
LatexCommand rule
offset "0.5ex"
width "100col%"
height "1pt"

\end_inset


\end_layout

\begin_layout LyX-Code
event_stack_flag = TOP;
\end_layout

\begin_layout Paragraph

\series medium
A PrepBufr message may contain duplicate observations with different quality
 mark values.
 The 
\series default
event_stack_flag
\series medium
 indicates whether to use the observations at the top of the event stack
 (observation values have had more quality control processing applied) or
 the bottom of the event stack (observation values have had no quality control
 processing applied).
 The flag value of 
\series default
TOP
\series medium
 listed above indicates the observations with the most amount of quality
 control processing should be used, the 
\series default
BOTTOM
\series medium
 option uses the data closes to raw values.
\end_layout

\begin_layout Paragraph

\series medium
tmp_dir = '/tmp';
\end_layout

\begin_layout Paragraph

\series medium
The tmp_dir indicates where temporary files should be written.
 
\end_layout

\begin_layout Paragraph

\series medium
version = 'v5.1';
\end_layout

\begin_layout Paragraph

\series medium
The version indicates the version of the 
\emph on
pb2nc
\emph default
 configuration file used.
 Future versions of MET may include changes to 
\emph on
pb2nc
\emph default
 and the 
\emph on
pb2nc
\emph default
 configuration file.
 This value should not be modified.
 
\end_layout

\begin_layout Subsection
PB2NC output
\end_layout

\begin_layout Paragraph

\series medium
Each NetCDF file generated by the PB2NC tool contains the dimensions and
 variables shown in the following tables.
\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
NetCDF file dimensions for pb2nc output.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="2in">
<column alignment="left" valignment="top" width="4in">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
pb2nc NetCDF DIMENSIONS
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
NetCDF Dimension
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mxstr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maximum string length (16)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hdr_arr_len
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of entries in each PrepBufr message header array (3)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
obs_arr_len
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of entries in each PrepBufr observation array (5)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nobs
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of PrepBufr observations in the file (UNLIMITED)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nhdr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Number of PrepBufr messages in the file (variable) 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
NetCDF variables in pb2nc output.
 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="1in">
<column alignment="left" valignment="top" width="1in">
<column alignment="left" valignment="top" width="4in">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
pb2nc NetCDF VARIABLES
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
NetCDF Variable
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Dimension
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
obs_arr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nobs, obs_arr_len
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Array of floats containing values for each observation including:
\end_layout

\begin_layout Plain Layout
* Reference to the entry in the hdr_arr with which this observation is associate
d
\end_layout

\begin_layout Plain Layout
* GRIB code corresponding to this observation type
\end_layout

\begin_layout Plain Layout
* Pressure level in hPa or accumulation interval
\end_layout

\begin_layout Plain Layout
* Height in meters above sea level
\end_layout

\begin_layout Plain Layout
* Observation value
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
obs_qty
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nobs, mxstr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing quality control value for each observation.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hdr_typ
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nmsg, mxstr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the message type for each PrepBufr message
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hdr_sid
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nmsg, mxstr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the station id for each PrepBufr message
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hdr_vld
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nmsg, mxstr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the observation valid time for each PrepBufr message
 in YYYYMMDD_HHMMSS format
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
hdr_arr
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nhdr, hdr_arr_len
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Array of floats containing values for each PrepBufr message including:
\end_layout

\begin_layout Plain Layout
* Latitude in degrees north
\end_layout

\begin_layout Plain Layout
* Longitude in degrees east
\end_layout

\begin_layout Plain Layout
* Elevation in meters above sea level 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
ASCII2NC tool
\end_layout

\begin_layout Paragraph

\series medium
This section describes how to run the ASCII2NC tool.
 The ASCII2NC tool is used to reformat ASCII point observations into the
 NetCDF format expected by the Point-Stat tool.
 For those users wishing to verify against point observations that are not
 available in PrepBufr format, the ASCII2NC tool provides a way of incorporating
 those observations into MET.
 If the ASCII2NC tool is used to perform a reformatting step, no configuration
 file is needed.
 However, for more complex processing, such as summarizing time series observati
ons, a configuration file may be specified.
 For details on the configuration file options, see the README and example
 configuration files distributed with the MET code.
 
\end_layout

\begin_layout Paragraph

\series medium
The initial version of the ASCII2NC tool supports input ASCII point observation
 format consisting of 11 columns of data for each observation value.
 The ASCII2NC tool was enhanced for version 4.1 of MET to handle data in
 both little_r and SURFRAD formats.
\end_layout

\begin_layout Paragraph

\series medium
The input ASCII point observation format consists of one row of data per
 observation value.
 Each row of data consists of 11 columns as shown in the following table.
\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
Input MET ascii2nc point observation format
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="0.5in">
<column alignment="left" valignment="top" width="1.5in">
<column alignment="left" valignment="top" width="4in">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
ascii2nc ASCII Point Observation Format
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Column
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Name
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Message_Type
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the observation message type as described in the
 previous section on the PB2NC tool.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Station_ID
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the station id.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Valid_Time
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Text string containing the observation valid time in YYYYMMDD_HHMMSS format.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lat
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Latitude in degrees north of the observing location.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Longitude in degrees east of the observation location.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Elevation
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Elevation in msl of the observing location.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grib_Code
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Integer GRIB code value corresponding to this observation type.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
8
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Level
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pressure level in hPa or accumulation interval in hours for the observation
 value.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
9
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Height
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Height in msl or agl of the observation value.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
10
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
QC_String
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Quality control value.
 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
11
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Observation_Value
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Observation value in units consistent with the GRIB code definition.
 3.6.1 ascii2nc usage
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
ascii2nc usage
\end_layout

\begin_layout Paragraph

\series medium
Once the ASCII point observations have been formatted as expected, the ASCII
 file is ready to be processed by the ASCII2NC tool.
 The usage statement for ASCII2NC tool is shown below:
\end_layout

\begin_layout LyX-Code
Usage: ascii2nc
\end_layout

\begin_layout LyX-Code
ascii_file [ascii_file2 ascii_file3 ...
 ascii_filen]
\end_layout

\begin_layout LyX-Code
netcdf_file
\end_layout

\begin_layout LyX-Code
[-format ASCII_format]
\end_layout

\begin_layout LyX-Code
[-config file]
\end_layout

\begin_layout LyX-Code
[-mask_grid string]
\end_layout

\begin_layout LyX-Code
[-mask_poly file]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[ level]
\end_layout

\begin_layout Paragraph

\series medium
ascii2nc has two required arguments and can take several optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for ascii2nc
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
ascii_file
\series medium
 argument indicates the name of the ASCII point observation file to be processed.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
netcdf_fil
\series default
e
\series medium
 argument indicates the name given to the output NetCDF file.
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for ascii2nc
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
-format ASCII_format
\series medium
 may be set to "met_point", "little_r" or "surfrad".
 
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-config file option
\series medium
 specifies the configuration file to generate summaries of the fields in
 the ASCII files.
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-mask_grid string
\series medium
 option specifies a named grid or a gridded data file for filtering the
 point observations spatially.
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series default
-
\series bold
mask_poly file
\series medium
 option defines a polyline masking file for filtering the point observations
 spatially.
\end_layout

\begin_layout Description

\series medium
7.
 The 
\series bold
-log file 
\series medium
option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
8.
 The 
\series bold
-v level
\series medium
 option indicates the desired level of verbosity.
 The value of 'level' will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity above 1 will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the 
\emph on
ascii2nc
\emph default
 calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
ascii2nc sample_ascii_obs.txt
\end_layout

\begin_layout LyX-Code
sample_ascii_obs.nc
\end_layout

\begin_layout Paragraph

\series medium
In this example, the ASCII2NC tool will reformat the input 
\series default
sample_ascii_obs.txt
\series medium
 file into NetCDF format and write the output to a file named 
\series default
sample_ascii_obs.nc
\series medium
.
\end_layout

\begin_layout Section
MADIS2NC tool
\end_layout

\begin_layout Paragraph

\series medium
This section describes how to run the MADIS2NC tool.
 The MADIS2NC tool is used to reformat Meteorological Assimilation Data
 Ingest System (MADIS) point observations into the NetCDF format expected
 by the Point-Stat tool.
 More information about MADIS data and formatting is available at 
\series default

\begin_inset CommandInset href
LatexCommand href
target "http://madis.noaa.gov."

\end_inset


\series medium
 Since the MADIS2NC tool simply performs a reformatting step, no configuration
 file is needed.
\end_layout

\begin_layout Subsection
madis2nc usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for MADIS2NC tool is shown below:
\end_layout

\begin_layout LyX-Code
Usage: madis2nc
\end_layout

\begin_layout LyX-Code
madis_file
\end_layout

\begin_layout LyX-Code
out_file
\end_layout

\begin_layout LyX-Code
-type str
\end_layout

\begin_layout LyX-Code
[-qc_dd list]
\end_layout

\begin_layout LyX-Code
[-lvl_dim list]
\end_layout

\begin_layout LyX-Code
[-rec_beg n]
\end_layout

\begin_layout LyX-Code
[-rec_end n]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
\emph on
madis2nc
\emph default
 has required arguments and can also take optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for madis2nc
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
madis_file
\series medium
 argument indicates the name of the point observation file to be processed.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
netcdf_file
\series medium
 argument indicates the name given to the output NetCDF file.
\end_layout

\begin_layout Description

\series medium
3.
 The argument 
\series bold
-type str
\series medium
 specifies the type of MADIS observations (metar, raob, profiler, maritime,
 mesonet).
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for madis2nc
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-qc_dd list
\series medium
 option specifies a comma-separated list of QC flag values to be accepted
 (Z,C,S,V,X,Q,K,G,B).
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-lvl_dim list option
\series medium
 specifies a comma-separated list of vertical level dimensions to be processed.
\end_layout

\begin_layout Description

\series medium
6.
 To specify the exact records to be processed, the 
\series bold
-rec_beg n
\series medium
 specifies the index of the first MADIS record to process and 
\series bold
-rec_end n
\series medium
 specifies the index of the last MADIS record to process.
 Both are zero-based.
\end_layout

\begin_layout Description

\series medium
7.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
8.
 The 
\series bold
-v level
\series medium
 option indicates the desired level of verbosity.
 The value of 'level' will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the madis2nc calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
madis2nc sample_madis_obs.nc
\end_layout

\begin_layout LyX-Code
sample_madis_obs_met.nc -log madislog -v 3
\end_layout

\begin_layout Paragraph

\series medium
In this example, the MADIS2NC tool will reformat the input 
\series default
sample_madis_obs.nc
\series medium
 file into NetCDF format and write the output to a file named 
\series default
sample_madis_obs_met.nc
\series medium
.
 Warnings and error messages will be written to the madislog file, and the
 verbosity will be level three.
 
\end_layout

\begin_layout Section
Pcp-Combine tool
\end_layout

\begin_layout Paragraph

\series medium
This section contains a description of running the Pcp-Combine tool.
 The Pcp-Combine tool is used (if needed) to modify the precipitation accumulati
on intervals from two or more gridded files into a single NetCDF file containing
 the desired accumulation interval, for input to the MET statistics tools.
 The "sum" command can only be run on GRIB1 or GRIB2 files while "add" and
 "subtract" can be run on any gridded file.
 Use of Pcp-Combine on a single file will result in that file being written
 out in NetCDF format, with no changes to the content.
 The files being combined must have already been placed on the grid on which
 the user would like to verify.
 The copygb utility is recommended for re-gridding GRIB files.
 In addition, the Pcp-Combine tool will only operate on files with the same
 initialization time unless it is indicated that it shoud ignore the initializat
ion time.
\end_layout

\begin_layout Subsection
pcp_combine usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the Pcp-Combine tool is shown below:
\end_layout

\begin_layout LyX-Code

\series medium
Usage: 
\series default
pcp_combine
\end_layout

\begin_layout LyX-Code
[[-sum] sum_args] | [-add add_args] | [-subtract subtract_args]
\end_layout

\begin_layout LyX-Code
[-config config_str]
\end_layout

\begin_layout LyX-Code
[-varname variable_name]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
The arguments to 
\emph on
pcp_combine
\emph default
 vary depending on the mode in which it is run.
 
\end_layout

\begin_layout Paragraph

\series medium
Listed below are the arguments for the 
\series default
sum
\series medium
 command:
\end_layout

\begin_layout LyX-Code
SUM_ARGS:
\end_layout

\begin_layout LyX-Code
init_time
\end_layout

\begin_layout LyX-Code
in_accum
\end_layout

\begin_layout LyX-Code
valid_time
\end_layout

\begin_layout LyX-Code
out_accum
\end_layout

\begin_layout LyX-Code
out_file
\end_layout

\begin_layout LyX-Code
[-pcpdir path]
\end_layout

\begin_layout LyX-Code
[-pcprx reg_exp]
\end_layout

\begin_layout LyX-Code

\series medium
Listed below are the arguments for the 
\series default
add
\series medium
 command:
\end_layout

\begin_layout LyX-Code
ADD_ARGS:
\end_layout

\begin_layout LyX-Code
in_file1
\end_layout

\begin_layout LyX-Code
accum1
\end_layout

\begin_layout LyX-Code
[in_file2 accum2 in_file3 accum3 .
 .
 .
 ]
\end_layout

\begin_layout LyX-Code
out_file
\end_layout

\begin_layout Paragraph

\series medium
Listed below are the arguments for the subtract command:
\end_layout

\begin_layout LyX-Code
SUBTRACT_ARGS:
\end_layout

\begin_layout LyX-Code
in_file1
\end_layout

\begin_layout LyX-Code
accum1
\end_layout

\begin_layout LyX-Code
in_file2
\end_layout

\begin_layout LyX-Code
accum2
\end_layout

\begin_layout LyX-Code
out_file
\end_layout

\begin_layout Paragraph
Required arguments for the pcp_combine
\end_layout

\begin_layout Paragraph

\series medium
1.
 The Pcp-Combine tool must be run with exactly one of the 
\series default
-sum, -add
\series medium
, or 
\series default
-subtract
\series medium
 command line arguments with the corresponding additional arguments.
 
\end_layout

\begin_layout Paragraph
Optional arguments for pcp_combine
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
-config config_str
\series medium
 option is the configuration string to use when searching for records in
 input files.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
-varname variable_name
\series medium
 gives the name of the combined variable in output NetCDF file.
 
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-v level
\series medium
 option indicates the desired level of verbosity.
 The contents of 
\series default

\begin_inset Quotes eld
\end_inset

level
\begin_inset Quotes erd
\end_inset


\series medium
 will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity above 1 will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
Required arguments for the pcp_combine sum command
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
init_time
\series medium
 argument, provided in YYYYMMDD[_HH[MMSS]] format, indicates the initialization
 time for model data to be summed.
 Only files found with this initialization time will be processed.
 If combining observation files, Stage II or Stage IV data for example,
 the initialization time is not applicable.
 Providing a string of all zeros (00000000_000000) indicates that all files,
 regardless of initialization time should be processed.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
in_accum
\series medium
 argument, provided in HH[MMSS] format, indicates the accumulation interval
 of the model or observation gridded files to be processed.
 This value must be specified, since a model output file may contain multiple
 accumulation periods for precipitation in a single file.
 The argument indicates which accumulation period to extract.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
valid_time
\series medium
 argument, in YYYYMMDD[_HH[MMSS]] format, indicates the desired valid time
 to which the accumulated precipitation is to be summed.
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
out_accum
\series medium
 argument, in HH[MMSS] format, indicates the desired total accumulation
 period to be summed.
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
out_file 
\series medium
argument indicates the name for the NetCDF file to be written.
\end_layout

\begin_layout Paragraph
Optional arguments for pcp_combine sum command
\end_layout

\begin_layout Description

\series medium
1.
 The
\series bold
 -pcpdir path
\series medium
 option indicates the directories in which the input files reside.
 The contents of 
\begin_inset Quotes eld
\end_inset


\series bold
path
\series medium

\begin_inset Quotes erd
\end_inset

 will override the default setting.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
-pcprx reg_exp
\series medium
 option indicates the regular expression to be used in matching files in
 the precipitation directory specified.
 The contents of 
\begin_inset Quotes eld
\end_inset


\series bold
reg_exp
\series medium

\begin_inset Quotes erd
\end_inset

 will override the default setting that matches all file names.
 If the precipitation directory contains a large number of files, the user
 may specify that only a subset of those files be processed using a regular
 expression which will speed up the run time.
\end_layout

\begin_layout Paragraph
Required arguments for the pcp_combine add command
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
in_file1
\series medium
 argument indicates the first file to be processed, and can be any gridded
 file.
 
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
in_accum1
\series medium
 argument, provided in HH[MMSS] format, indicates the accumulation interval
 to be extracted from the first file.
 For non-precipitation fields, this argument can be replaced by a configuration
 string, e.g.
 'name="TMP"; level="P500";'.
 
\end_layout

\begin_layout Paragraph

\series medium
An arbitrary number of additional files and accumulations can be provided.
 All of them will be added and the total will be placed in the output file.
 
\end_layout

\begin_layout Paragraph
Required arguments for the pcp_combine subtract command
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
in_file1
\series medium
 argument indicates the first file to be processed, and can be any gridded
 file.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
in_accum1
\series medium
 argument, provided in HH[MMSS] format, indicates the accumulation interval
 to be extracted from the first gridded file.
 For non-precipitation fields, this argument can be replaced by a configuration
 string, e.g.
 'name=
\begin_inset Quotes erd
\end_inset

TMP
\begin_inset Quotes erd
\end_inset

; level=
\begin_inset Quotes erd
\end_inset

P500
\begin_inset Quotes erd
\end_inset

;'.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
in_file2
\series medium
 argument indicates the second file to be processed.
 
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
in_accum2
\series medium
 argument, provided in HH[MMSS] format, indicates the accumulation interval
 to be extracted from the second file.
 This accumulation will be subtracted from the first.
 For non-precipitation fields, this argument can be replaced by a configuration
 string, e.g.
 'name=
\begin_inset Quotes erd
\end_inset

TMP
\begin_inset Quotes erd
\end_inset

; level=
\begin_inset Quotes erd
\end_inset

P500
\begin_inset Quotes erd
\end_inset

;'.
\end_layout

\begin_layout Paragraph

\series medium
An example of the pcp_combine calling sequence is presented below:
\end_layout

\begin_layout Paragraph
Example 1:
\end_layout

\begin_layout LyX-Code
pcp_combine -sum
\end_layout

\begin_layout LyX-Code
20050807_000000 3
\end_layout

\begin_layout LyX-Code
20050808_000000 24 
\end_layout

\begin_layout LyX-Code
sample_fcst.nc 
\end_layout

\begin_layout LyX-Code
-pcpdir ../data/sample_fcst/2005080700
\end_layout

\begin_layout Paragraph

\series medium
In Example 1, the Pcp-Combine tool will sum the values in model files initialize
d at 2005/08/07 00Z and containing 3-hourly accumulation intervals of precipitat
ion.
 The requested valid time is 2005/08/08 00Z with a requested total accumulation
 interval of 24 hours.
 The output file is to be named 
\series default
sample_fcst.nc
\series medium
, and the Pcp-Combine tool is to search the directory indicated for the
 input files.
\end_layout

\begin_layout Paragraph

\series medium
The Pcp-Combine tool will search for 8 files containing 3-hourly accumulation
 intervals which meet the criteria specified.
 It will write out a single NetCDF file containing that 24 hours of accumulation.
\end_layout

\begin_layout Paragraph

\series medium
A second example of the pcp_combine calling sequence is presented below:
\end_layout

\begin_layout Paragraph
Example 2:
\end_layout

\begin_layout LyX-Code
pcp_combine -sum
\end_layout

\begin_layout LyX-Code
00000000_000000 1 
\end_layout

\begin_layout LyX-Code
20050808_000000 24
\end_layout

\begin_layout LyX-Code
sample_obs.nc 
\end_layout

\begin_layout LyX-Code
-pcpdir ../data/sample_obs/ST2ml
\end_layout

\begin_layout Paragraph

\series medium
Example 2 shows an example of using the Pcp-Combine tool to sum observation
 data.
 The "
\series default
init_time
\series medium
" has been set to all zeros to indicate that when searching through the
 files in precipitation directory, the initialization time should be ignored.
 The "
\series default
in_accum
\series medium
" has been changed from 3 to 1 to indicate that the input observation files
 contain 1-hourly accumulations of precipitation.
 Lastly, 
\series default
-pcpdir
\series medium
 provides a different directory to be searched for the input files.
\end_layout

\begin_layout Paragraph

\series medium
The Pcp-Combine tool will search for 24 files containing 1-hourly accumulation
 intervals which meet the criteria specified.
 It will write out a single NetCDF file containing that 24 hours of accumulation.
\end_layout

\begin_layout Paragraph
Example 3:
\end_layout

\begin_layout LyX-Code
pcp_combine -add input_pinterp.nc 'name="TT"; level="(0,*,*)";' tt_10.ps 
\end_layout

\begin_layout Paragraph

\series medium
This command would grab the first level of the TT variable from a pinterp
 NetCDF file.
\end_layout

\begin_layout Subsection
pcp_combine output
\end_layout

\begin_layout Paragraph

\series medium
The output NetCDF files contain the requested accumulation intervals as
 well as information about the grid on which the data lie.
 That grid projection information will be parsed out and used by the statistics
 tools in subsequent steps.
 One may use NetCDF utilities such as ncdump or ncview to view the contents
 of the output file.
\end_layout

\begin_layout Paragraph

\series medium
Each NetCDF file generated by the Pcp-Combine tool contains the dimensions
 and variables shown in the following two tables.
\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
NetCDF file dimensions for pcp_combine output.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="2">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="1.5in">
<column alignment="left" valignment="top" width="4.5in">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Pcp_combine NetCDF dimensions
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
NetCDF dimension
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lat
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dimension of the latitude (i.e.
 Number of grid points in the North-South direction)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Dimension of the longitude (i.e.
 Number of grid points in the East-West direction) 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
NetCDF variables for pcp_combine output.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features rotate="0" tabularvalignment="middle">
<column alignment="left" valignment="top" width="1.5in">
<column alignment="left" valignment="top" width="0.5in">
<column alignment="left" valignment="top" width="4in">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Pcp_combine NetCDF variables
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
NetCDF variable
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Dimension
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lat
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lat, lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Latitude value for each point in the grid
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lat, lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Longitude value for each point in the grid
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GRIB Code Abbreviation
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
lat, lon
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Amount of precipitation for each point in the grid.
 The name of the variable describes the name and level.
 3.10 MODIS regrid tool
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
MODIS regrid tool
\end_layout

\begin_layout Paragraph

\series medium
This section contains a description of running the MODIS regrid tool.
 This tool may be run to create a NetCDF file for use in other MET tools
 from MODIS level 2 cloud product from NASA.
 The data browser for these files is: http://ladsweb.nascom.nasa.gov/ .
\end_layout

\begin_layout Subsection
modis_regrid usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the modis_regrid utility is shown below:
\end_layout

\begin_layout LyX-Code
Usage: modis_regrid
\end_layout

\begin_layout LyX-Code
-data_file path
\end_layout

\begin_layout LyX-Code
-field name
\end_layout

\begin_layout LyX-Code
-out path
\end_layout

\begin_layout LyX-Code
-scale value
\end_layout

\begin_layout LyX-Code
-offset value
\end_layout

\begin_layout LyX-Code
-fill value
\end_layout

\begin_layout LyX-Code
[ -units text ]
\end_layout

\begin_layout LyX-Code
modis_file
\end_layout

\begin_layout Paragraph

\series medium
\emph on
modis_regrid
\emph default
 has some required arguments and can also take optional ones.
 
\end_layout

\begin_layout Standard
Required arguments for modis_regrid
\end_layout

\begin_layout Standard
.
\end_layout

\begin_layout Standard

\series medium
1.
 The 
\series bold
data_file path
\series medium
 argument specifies the data files used to get the grid information.
\end_layout

\begin_layout Standard

\series medium
2.
 The 
\series bold
field name
\series medium
 argument specifies the name of the field to use in the MODIS data file.
\end_layout

\begin_layout Standard

\series medium
3.
 The
\series default
 
\series bold
out path
\series medium
 argument specifies the name of the output NetCDF file.
\end_layout

\begin_layout Standard

\series medium
4.
 The 
\series bold
scale value
\series medium
 argument specifies the scale factor to be used on the raw MODIS values.
\end_layout

\begin_layout Standard

\series medium
5.
 The 
\series bold
offset value
\series medium
 argument specifies the offset value to be used on the raw MODIS values.
\end_layout

\begin_layout Standard

\series medium
6.
 The 
\series bold
fill value
\series medium
 argument specifies the bad data value in the MODIS data.
 
\end_layout

\begin_layout Standard

\series medium
7.
 The 
\series bold
modis_file
\series medium
 is the name of the MODIS input file.
\end_layout

\begin_layout Standard
.
\end_layout

\begin_layout Standard

\series bold
Optional arguments for modis_regrid
\end_layout

\begin_layout Standard
.
\end_layout

\begin_layout Standard

\series medium
8.
 The 
\series bold
-units text
\series medium
 specifies units string in the global attributes section of the output file.
\end_layout

\begin_layout Paragraph

\series medium
An example of the modis_regrid calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
modis_regrid -field Cloud_Fraction 
\backslash

\end_layout

\begin_layout LyX-Code
-data_file grid_file 
\backslash

\end_layout

\begin_layout LyX-Code
-out t2.nc 
\backslash

\end_layout

\begin_layout LyX-Code
-units percent 
\backslash

\end_layout

\begin_layout LyX-Code
-scale 0.01 
\backslash

\end_layout

\begin_layout LyX-Code
-offset 0 
\backslash

\end_layout

\begin_layout LyX-Code
-fill 127 
\backslash

\end_layout

\begin_layout LyX-Code
/home/joeuser/modis_regrid_test_data/modisfile
\end_layout

\begin_layout Paragraph

\series medium
In this example, the modis_regrid tool will process the input field from
 
\series default
modisfile
\series medium
, into NetCDF format and write it out to the output file t2.nc on the grid
 specified in 
\series default
grid_file
\series medium
 using the appropriate scale, offset and fill values.
 
\end_layout

\begin_layout Standard

\series bold
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\series bold
\begin_inset Caption Standard

\begin_layout Plain Layout
Example plot showing surface temperature froma MODIS file.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\series bold
\begin_inset Graphics
	filename fig3.1.png
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Section
Gen-Vx-Mask tool
\end_layout

\begin_layout Paragraph

\series medium
\begin_inset Note Note
status open

\begin_layout Plain Layout

\series medium
This section needs to be updated to reflect generalization of the tool
\end_layout

\end_inset

This section contains a description of running the Gen-Poly-Mask tool.
 The Gen-Poly-Mask tool may be run to create a bitmap verification masking
 region to be used by the Grid-Stat, Point-Stat, and MODE tools.
 This tool enables the user to generate a polyline masking region once for
 a domain and apply it to many cases.
 When using a complex polyline containing hundreds of vertices, it is a
 good idea to use the Gen-Poly-Mask tool to create a bitmap masking region
 before running the other MET tools as doing so will make them run more
 efficiently.
\end_layout

\begin_layout Subsection
gen_vx_mask usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the Gen-Poly-Mask tool is shown below:
\end_layout

\begin_layout LyX-Code
Usage: gen_vx_mask
\end_layout

\begin_layout LyX-Code
data_file
\end_layout

\begin_layout LyX-Code
mask_poly
\end_layout

\begin_layout LyX-Code
netcdf_file
\end_layout

\begin_layout LyX-Code
[-name str]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
gen_poly_mask has required arguments and can take optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for gen_vx_mask
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
data_file
\series medium
 argument indicates the name of a gridded data file that defines the domain
 over which the masking bitmap is to be defined.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
mask_poly
\series medium
 argument indicates the name of the ASCII Lat/Lon polyline file defining
 the masking region.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
netcdf_file
\series medium
 argument indicates the name given to the output NetCDF file.
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for gen_vx_mask
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-name str
\series medium
 optional argument can be used to specify the output NetCDF variable name
 to be used.
 
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series bold
-v leve
\series default
l
\series medium
 option indicates the desired level of verbosity.
 The value of "level" will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the gen_poly_mask calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
gen_vx_mask sample_fcst.grb
\end_layout

\begin_layout LyX-Code
CONUS.poly
\end_layout

\begin_layout LyX-Code
CONUS_poly.nc
\end_layout

\begin_layout Paragraph

\series medium
In this example, the Gen-Poly-Mask tool will apply the polyline defined
 in the file 
\emph on
CONUS.poly
\emph default
 to the domain on which the data in the file 
\emph on
sample_fcst.grb
\emph default
 resides.
 It will create a NetCDF file containing a bitmap for the domain with a
 value of 1 for all grid points inside the CONUS polyline and a value of
 0 for all grid points outside.
 It will write an output NetCDF file named 
\emph on
CONUS_poly.nc
\end_layout

\begin_layout Section
Plotting Utilities
\end_layout

\begin_layout Paragraph

\series medium
This section describes how to check your data files using plotting utilities.
 Point observations can be plotted using the plot_point_obs utility.
 A single model level can be plotted using the plot_data_plane utility.
 For object based evaluations, the MODE objects can be plotted using plot_mode_f
ield.
 Occasionally, a postprocessing or timing error can lead to errors in MET.
 These tools can assist the user by showing the data to be verified to ensure
 that times and locations match up as expected.
 
\end_layout

\begin_layout Subsection
plot_point_obs usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the plot_point_obs utility is shown below:
\end_layout

\begin_layout LyX-Code
Usage: plot_point_obs
\end_layout

\begin_layout LyX-Code
nc_file
\end_layout

\begin_layout LyX-Code
ps_file
\end_layout

\begin_layout LyX-Code
[-gc code]
\end_layout

\begin_layout LyX-Code
[-msg_typ name]
\end_layout

\begin_layout LyX-Code
[-data_file name]
\end_layout

\begin_layout LyX-Code
[-dotsize val]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
\emph on
plot_point_obs
\emph default
 has required arguments and can take optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for plot_point_obs
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
nc_file
\series medium
 argument indicates the name of the file to be plotted.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
ps_file
\series medium
 argument indicates the name given to the output file containing the plot.
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for plot_point_obs
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
-gc code
\series medium
 is the GRIB code(s) to be plotted.
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-msg_typ name
\series medium
 is the message type(s) to be plotted.
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-data_file name
\series medium
 is a data file whose grid should be used for the plot.
 
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series bold
-dotsize val
\series medium
 option overrides the default dotsize value (1).
 
\end_layout

\begin_layout Description

\series medium
7.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
8.
 The 
\series bold
-v level
\series medium
 option indicates the desired level of verbosity.
 The value of "level" will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the 
\emph on
plot_point_obs
\emph default
 calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
plot_point_obs sample_pb.nc sample_data.ps
\end_layout

\begin_layout Paragraph

\series medium
In this example, the plot_point_obs tool will process the input 
\series default
sample_pb.nc
\series medium
 file write a postscript file containing a plot to a file named 
\series default
sample_pb.ps
\series medium
.
\end_layout

\begin_layout Subsection
plot_data_plane usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the plot_data_plane utility is shown below:
\end_layout

\begin_layout LyX-Code
Usage: plot_data_plane
\end_layout

\begin_layout LyX-Code
input_filename
\end_layout

\begin_layout LyX-Code
output_filename
\end_layout

\begin_layout LyX-Code
config_string
\end_layout

\begin_layout LyX-Code
[-color_table color_table_name]
\end_layout

\begin_layout LyX-Code
[-plot_range min max]
\end_layout

\begin_layout LyX-Code
[-title title_string]
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
\emph on
plot_data_plane
\emph default
 has required arguments and can take optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for plot_data_plane
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
input_filename
\series medium
 argument indicates the name of the gridded data file to be plotted.
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
output_filename
\series medium
 argument indicates the name given to the output PostScript file containing
 the plot.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
config_string
\series medium
 argument contains information about the field and level to be plotted.
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for 
\emph on
plot_data_plane
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-color_table color_table_name
\series medium
 overrides the default color table ("$(MET_BASE)/colortables/met_default.ctable")
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-plot_range min max
\series medium
 sets the minimum and maximum values to plot.
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series bold
-title title_string
\series medium
 sets the title text for the plot.
 
\end_layout

\begin_layout Description

\series medium
7.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
8.
 The 
\series bold
-v leve
\series medium
l option indicates the desired level of verbosity.
 The value of "level" will override the default setting of 2.
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the plot_data_plane calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
plot_data_plane test.grb test.ps 'name="TMP"; level="Z2"; 
\end_layout

\begin_layout LyX-Code
or plot_data_plane test.grb2 test.ps 'name="DSWRF"; level="L0";' -v 4 (use
 -v4 to make sure it is grabbing the correct data)
\end_layout

\begin_layout Paragraph

\series medium
In the first example, the plot_point_obs tool will process the input test.grb
 file write a postscript file containing a plot to a file named 
\series default
test.ps
\series medium
 showing temperature at 2 meters.
 The second example will show downward shortwave radiation flux at the surface.
\end_layout

\begin_layout Subsection
plot_mode_field usage
\end_layout

\begin_layout Paragraph

\series medium
The usage statement for the plot_mode_field utility is shown below:
\end_layout

\begin_layout LyX-Code
Usage: plot_mode_field
\end_layout

\begin_layout LyX-Code
mode_nc_file_list
\end_layout

\begin_layout LyX-Code
-raw | -simple | -cluster
\end_layout

\begin_layout LyX-Code
-obs | -fcst
\end_layout

\begin_layout LyX-Code
-config file
\end_layout

\begin_layout LyX-Code
[-log file]
\end_layout

\begin_layout LyX-Code
[-v level]
\end_layout

\begin_layout Paragraph

\series medium
\emph on
plot_mode_field
\emph default
 has required arguments and can take optional ones.
 
\end_layout

\begin_layout Paragraph
Required arguments for plot_mode_field
\end_layout

\begin_layout Description

\series medium
1.
 The 
\series bold
mode_nc_file_list
\series medium
 specifies the MODE output files to be used for plotting.
 
\end_layout

\begin_layout Description

\series medium
2.
 The 
\series bold
-raw | -simple | -cluster
\series medium
 argument indicates the types of field to be plotted.
 Exactly one must be specified.
 For details about the types of objects, see the chapter in this document
 on MODE.
\end_layout

\begin_layout Description

\series medium
3.
 The 
\series bold
-obs | -fcst
\series medium
 option specifies whether to plot the observed or forecast field from the
 MODE output files.
 Exactly one must be specified.
\end_layout

\begin_layout Description

\series medium
4.
 The 
\series bold
-config file
\series medium
 specifies the configuration file to use for specification of plotting options.
\end_layout

\begin_layout Description
Optional 
\series bold
arguments for plot_mode_field
\end_layout

\begin_layout Description

\series medium
5.
 The 
\series bold
-log file
\series medium
 option directs output and errors to the specified log file.
 All messages will be written to that file as well as cout and cerr.
 Thus, users can save the messages without having to redirect the output
 on the command line.
 The default behavior is no logfile.
 
\end_layout

\begin_layout Description

\series medium
6.
 The 
\series bold
-v level
\series medium
 option indicates the desired level of verbosity.
 The value of "level" will override the default .
 Setting the verbosity to 0 will make the tool run with no log messages,
 while increasing the verbosity will increase the amount of logging.
\end_layout

\begin_layout Paragraph

\series medium
An example of the 
\emph on
plot_mode_field
\emph default
 calling sequence is shown below:
\end_layout

\begin_layout LyX-Code
plot_mode_field -simple -obs -config plotMODEconfig mode_120000L_20050807_120000
V_000000A_obj.nc
\end_layout

\begin_layout Paragraph

\series medium
In this example, the plot_mode_field tool will plot simple objects from
 an observed precipitation field using parameters from the configuration
 file plotMODEconfig and objects from the MODE output file 
\emph on
mode_120000L_20050807_120000V_000000A_obj.nc.

\emph default
 An example plot showing twelve simple observed precipitation objects is
 shown below.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Simple observed precipitation objects
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename fig3.2.png
	scale 55

\end_inset


\end_layout

\end_inset


\end_layout

\end_body
\end_document
