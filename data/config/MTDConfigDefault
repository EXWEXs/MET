////////////////////////////////////////////////////////////////////////////////
//
// MODE Time Domain configuration file.
//
// For additional information, see the MET_BASE/config/README file.
//
////////////////////////////////////////////////////////////////////////////////

   //
   // Output model name to be written
   //

model = "WRF";

   //
   // Output observation type to be written
   //

obtype = "ANALYS";


met_data_dir = "MET_BASE";

////////////////////////////////////////////////////////////////////////////////

//
// Verification grid
//
// regrid = {
//    to_grid    = NONE;
//    vld_thresh = 0.5;
//    method     = NEAREST;
//    width      = 1;
// };

////////////////////////////////////////////////////////////////////////////////

   //
   // Approximate grid resolution (km)
   //

grid_res = 4;

////////////////////////////////////////////////////////////////////////////////

   //
   // Forecast and observation fields to be verified
   //

fcst = {
   field = {
      name  = "APCP";
      level = "A03";
   };
   
   raw_thresh        = NA;
   conv_radius       = 60.0/grid_res; // in grid squares
   conv_thresh       = >=5.0;
   vld_thresh        = 0.5;
   area_thresh       = NA;
   inten_perc_value  = 100;
   inten_perc_thresh = NA;
   merge_thresh      = >=1.25;
   merge_flag        = THRESH;
};

obs = fcst;

////////////////////////////////////////////////////////////////////////////////

   //
   // Handle missing data
   //

mask_missing_flag = NONE;

   //
   // Match objects between the forecast and observation fields
   //

match_flag = MERGE_BOTH;

   //
   // Maximum centroid distance for objects to be compared
   //

max_centroid_dist = 800.0/grid_res;

////////////////////////////////////////////////////////////////////////////////

   //
   // Verification masking regions
   //

mask = {
   grid      = "";
   grid_flag = NONE; // Apply to NONE, FCST, OBS, or BOTH
   poly      = "";
   poly_flag = NONE; // Apply to NONE, FCST, OBS, or BOTH

};

////////////////////////////////////////////////////////////////////////////////

   //
   // Fuzzy engine weights
   //

weight = {

   space_centroid_dist  = 1.0;

   time_centroid_delta  = 1.0;

   speed_delta          = 1.0;

   direction_diff       = 1.0;

   volume_ratio         = 1.0;

   axis_angle_diff      = 1.0;

   start_time_delta     = 1.0;

   end_time_delta       = 1.0;

};

////////////////////////////////////////////////////////////////////////////////

   //
   // Fuzzy engine interest functions
   //

interest_function = {

   space_centroid_dist = (

      (   0.0, 1.0 )
      (  50.0, 0.5 )
      ( 100.0, 0.0 )

   );

   time_centroid_delta = (

      ( -3.0, 0.0 )
      ( -2.0, 0.5 )
      ( -1.0, 0.8 )
      (  0.0, 1.0 )
      (  1.0, 0.8 )
      (  2.0, 0.5 )
      (  3.0, 0.0 )

   );

   speed_delta = (

      ( -10.0, 0.0 )
      (  -5.0, 0.5 )
      (   0.0, 1.0 )
      (   5.0, 0.5 )
      (  10.0, 0.0 )

   );

   direction_diff = (

      (   0.0, 1.0 )
      (  90.0, 0.0 )
      ( 180.0, 0.0 )

   );

   volume_ratio = (

      (  0.0, 0.0 )
      (  0.5, 0.5 )
      (  1.0, 1.0 )
      (  1.5, 0.5 )
      (  2.0, 0.0 )

   );

   axis_angle_diff = (

      (  0.0, 1.0 )
      ( 30.0, 1.0 )
      ( 90.0, 0.0 )

   );

   start_time_delta = (

      (  0.0, 1.0 )
      (  3.0, 0.5 )
      (  5.0, 0.0 )

   );

   end_time_delta = (

      (  0.0, 1.0 )
      (  3.0, 0.5 )
      (  5.0, 0.0 )

   );

};   //  interest functions


////////////////////////////////////////////////////////////////////////////////

   //
   // Total interest threshold for determining matches
   //

total_interest_thresh = 0.7;

   //
   // Interest threshold for printing output pair information
   //

print_interest_thresh = 0.0;


////////////////////////////////////////////////////////////////////////////////

   //
   // Number of grid boxes to fill with bad data values along the edge of the field
   // to avoid edge effects.
   //

zero_border_size = 1;


////////////////////////////////////////////////////////////////////////////////

   //
   // Output flags
   //

nc_output = {

   latlon       = true;
   raw          = true;
   object_id    = true;
   cluster_id   = true;
   do_polylines = true;

};

txt_output = {

   attributes_2d   = true;
   attributes_3d   = true;

   // convex_hulls_2d = true;

};


////////////////////////////////////////////////////////////////////////////////


output_prefix  = "";

version        = "V5.1";

////////////////////////////////////////////////////////////////////////////////
